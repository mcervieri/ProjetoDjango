{% extends 'base.html' %}

{% block title %}Dashboard | FitApp{% endblock %}
{% block page_title %}Dashboard{% endblock %}

{% block content %}
<div class="row">
  <div class="col-lg-12">
    <div class="card card-neon">
      <div class="card-header neon-header">
        <h3 class="card-title">
          <i class="fas fa-bolt"></i> Bem-vindo(a), {{ user.first_name|default:user.username }}
        </h3>
      </div>
      <div class="card-body text-light">
        <p class="mb-0 text-muted">
          Sua dashboard estará disponível em breve.<br>
          Aqui você verá seus treinos, planos alimentares e progresso.
        </p>
      </div>
    </div>
  </div>
</div>

<div class="row mt-4">
  <div class="col-lg-3 col-6">
    <div class="small-box neon-box green">
      <div class="inner">
        <h3 class="count" data-target="5">0</h3>
        <p>Treinos Ativos</p>
      </div>
      <div class="icon"><i class="fas fa-dumbbell"></i></div>
      <a href="#" class="small-box-footer">Ver mais <i class="fas fa-arrow-circle-right"></i></a>
    </div>
  </div>

  <div class="col-lg-3 col-6">
    <div class="small-box neon-box green">
      <div class="inner">
        <h3 class="count" data-target="3">0</h3>
        <p>Planos Nutricionais</p>
      </div>
      <div class="icon"><i class="fas fa-apple-alt"></i></div>
      <a href="#" class="small-box-footer">Ver mais <i class="fas fa-arrow-circle-right"></i></a>
    </div>
  </div>

  <div class="col-lg-3 col-6">
    <div class="small-box neon-box green">
      <div class="inner">
        <h3 class="count" data-target="2">0</h3>
        <p>Metas Atingidas</p>
      </div>
      <div class="icon"><i class="fas fa-trophy"></i></div>
      <a href="#" class="small-box-footer">Ver mais <i class="fas fa-arrow-circle-right"></i></a>
    </div>
  </div>

  <div class="col-lg-3 col-6">
    <div class="small-box neon-box green">
      <div class="inner">
        <h3 class="count" data-target="7">0</h3>
        <p>Dias de Treino no Mês</p>
      </div>
      <div class="icon"><i class="fas fa-calendar-alt"></i></div>
      <a href="#" class="small-box-footer">Ver mais <i class="fas fa-arrow-circle-right"></i></a>
    </div>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const counters = document.querySelectorAll(".count");
  const speed = 120;

  counters.forEach(counter => {
    const updateCount = () => {
      const target = +counter.getAttribute("data-target");
      const count = +counter.innerText;
      const increment = target / speed;

      if (count < target) {
        counter.innerText = Math.ceil(count + increment);
        requestAnimationFrame(updateCount);
      } else {
        counter.innerText = target;
      }
    };

    counter.style.opacity = "0";
    counter.style.transform = "translateY(10px)";
    setTimeout(() => {
      counter.style.transition = "all 0.6s ease";
      counter.style.opacity = "1";
      counter.style.transform = "translateY(0)";
      updateCount();
    }, 300);
  });
});
</script>
{% endblock %}
