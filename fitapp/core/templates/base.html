{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}FitApp{% endblock %}</title>

    <!-- Ícone -->
    <link rel="icon" href="{% static 'images/logo.svg' %}" type="image/svg+xml" />

    <!-- Fontes e Ícones -->
    <link rel="stylesheet" href="{% static 'adminlte/plugins/fontawesome-free/css/all.min.css' %}" />

    <!-- AdminLTE -->
    <link rel="stylesheet" href="{% static 'adminlte/dist/css/adminlte.min.css' %}" />

    <!-- Tema Global FitApp (dark glass + neon green) -->
    <link rel="stylesheet" href="{% static 'css/dark_theme.css' %}">
    <link rel="stylesheet" href="{% static 'css/custom.css' %}">

    {% block extra_css %}{% endblock %}
  </head>

  <body class="{% block body_class %}hold-transition sidebar-mini layout-fixed{% endblock %}">

    {% block layout %}
      {% if user.is_authenticated %}
      <!-- === LAYOUT PRINCIPAL (usuário logado) === -->
      <div class="wrapper">

        <!-- HEADER -->
        {% include 'includes/header.html' %}

        <!-- SIDEBAR -->
        {% include 'includes/sidebar.html' %}

        <!-- CONTEÚDO PRINCIPAL -->
        <div class="content-wrapper" style="background-color: #0b0b0f;">
          <div class="content-header">
            <div class="container-fluid">
              <div class="row mb-2 align-items-center justify-content-between">
                <div class="col-sm-6">
                  <h1 class="m-0 text-neon">{% block page_title %}Dashboard{% endblock %}</h1>
                </div>
                <div class="col-sm-6 text-right">
                  {% block breadcrumb %}{% endblock %}
                </div>
              </div>
            </div>
          </div>

          <section class="content px-3">
            <div class="container-fluid">
              {% include 'includes/messages.html' %}
              {% block content %}{% endblock %}
            </div>
          </section>
        </div>

        <!-- FOOTER -->
        {% include 'includes/footer.html' %}

      </div>
      {% else %}
      <!-- === LAYOUT PÚBLICO (login, registro, etc.) === -->
      <div class="content-wrapper" style="min-height: 100vh; background-color: #0b0b0f;">
        <section class="content d-flex align-items-center justify-content-center">
          <div class="container py-5">
            {% include 'includes/messages.html' %}
            {% block content_guest %}{% endblock %}
          </div>
        </section>
      </div>
      {% endif %}
    {% endblock %}

    <!-- === SCRIPTS ESSENCIAIS === -->
    <script src="{% static 'adminlte/plugins/jquery/jquery.min.js' %}"></script>
    <script src="{% static 'adminlte/plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'adminlte/dist/js/adminlte.min.js' %}"></script>

    {% block extra_js %}{% endblock %}
  </body>
</html>
